<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0,maximum-scale=1, user-scalable=no" name="viewport">
    <script src="./lib/jquery-3.1.1.min.js"></script>
    <script src="./lib/swiper-3.4.1.min.js"></script>
    <link rel="stylesheet" href="./lib/swiper-3.4.1.min.css" type="text/css">
    <link rel="stylesheet" href="./css/main.css" type="text/css">
    <title>国航安全文化知识竞赛</title>
</head>

<body>
    <div class="swiper-container" style="height: 100%;width: 100%;">
        <div class="swiper-wrapper">
            <div class="swiper-slide swiper-no-swiping container">
                <div class="home">
                    <img src="./images/home.jpg" alt="waiting">
                    <img class="begin" id="begin" src="./images/begin.png" alt="waiting">
                </div>
            </div>
            <div class="swiper-slide swiper-no-swiping container">
                <div class="person">
                    <img src="./images/person.png" alt="waiting">
                    <span class="question">国航的首要使命是什么？</span>
                </div>
                <div class="center">
                    <!-- <span class="pageCount">1/5</span> -->
                    <img class="pop" src="./images/pop1.png" alt="waiting">
                    <img class="next" src="./images/next.png" alt="waiting">
                    <div class="answer">
                        <span class="answer_item" index="1-1">A.我要飞得更高</span>
                        <span class="answer_item" index="1-2">B.安全第一</span>
                        <span class="answer_item" index="1-3">C.题目不是告诉正确答案了嘛!:什么</span>
                    </div>
                </div>
                <div class="bottom">
                    <img src="./images/bottom.png" alt="waiting">
                </div>
                <div class="bottom-text msg">
                </div>
            </div>
            <div class="swiper-slide swiper-no-swiping container">
                <div class="person">
                    <img src="./images/person.png" alt="waiting">
                    <span class="question">"三坚持四严一保证"里面的"四严"指的是什么？</span>
                </div>
                <div class="center">
                    <!-- <span class="pageCount">2/5</span> -->
                    <img class="pop" src="./images/pop2.png" alt="waiting">
                    <img class="next" src="./images/next.png" alt="waiting">
                    <div class="answer">
                        <span class="answer_item" index="2-1">A.严密的组织、严格的训练、严明的纪律、严谨的作风</span>
                        <span class="answer_item" index="2-2">B.严密的组织、严格的训练、严明的纪律、严酷的作风</span>
                        <span class="answer_item" index="2-3">C.严实、严密、严苛、颜值</span>
                    </div>
                </div>
                <div class="bottom">
                    <img src="./images/bottom.png" alt="waiting">
                </div>
                <div class="bottom-text msg">
                </div>
            </div>
            <div class="swiper-slide swiper-no-swiping container">
                <div class="person">
                    <img src="./images/person.png" alt="waiting">
                    <span class="question">为什么飞机上不能用手机？</span>
                </div>
                <div class="center">
                    <!-- <span class="pageCount">3/5</span> -->
                    <img class="pop" src="./images/pop3.png" alt="waiting">
                    <img class="next" src="./images/next.png" alt="waiting">
                    <div class="answer">
                        <span class="answer_item" index="3-1">A.电磁波会干扰飞机导航</span>
                        <span class="answer_item" index="3-2">B.使用手机会打扰到其他乘客</span>
                        <span class="answer_item" index="3-3">C.拒绝各种姿势的自拍</span>
                    </div>
                </div>
                <div class="bottom">
                    <img src="./images/bottom.png" alt="waiting">
                </div>
                <div class="bottom-text msg">
                </div>
            </div>
            <div class="swiper-slide swiper-no-swiping container">
                <div class="person">
                    <img src="./images/person.png" alt="waiting">
                    <span class="question">国内航班能随身携带多少液体化妆品？</span>
                </div>
                <div class="center">
                    <!--  <span class="pageCount">4/5</span> -->
                    <img class="pop" src="./images/pop4.png" alt="waiting">
                    <img class="next" src="./images/next.png" alt="waiting">
                    <div class="answer">
                        <span class="answer_item" index="4-1">A.只要你的行李包能装下，谁管你</span>
                        <span class="answer_item" index="4-2">B.容积不能超过100ml</span>
                        <span class="answer_item" index="4-3">C.糙汉一枚，从不关注</span>
                    </div>
                </div>
                <div class="bottom">
                    <img src="./images/bottom.png" alt="waiting">
                </div>
                <div class="bottom-text msg">
                </div>
            </div>
            <div class="swiper-slide swiper-no-swiping container">
                <div class="person">
                    <img src="./images/person.png" alt="waiting">
                    <span class="question">5周岁到12周岁的孩子单独乘机怎么办？</span>
                </div>
                <div class="center">
                    <!--  <span class="pageCount">5/5</span> -->
                    <img class="pop" src="./images/pop5.png" alt="waiting">
                    <img class="next" src="./images/next.png" alt="waiting">
                    <div class="answer">
                        <span class="answer_item" index="5-1">A.委托给一个最漂亮的空姐帮忙照顾</span>
                        <span class="answer_item" index="5-2">B.申请办理无人陪伴服务</span>
                        <span class="answer_item" index="5-3">C.任孩子自由飞翔，锻炼TA自理能力的时候到了</span>
                    </div>
                </div>
                <div class="bottom">
                    <img src="./images/bottom.png" alt="waiting">
                </div>
                <div class="bottom-text msg">
                </div>
            </div>
            <div class="swiper-slide swiper-no-swiping container" id="1">
                <img src="./images/child.png" class="bg" style="width:100%; height:100%;">
                <div class="div_again">
                    <img src="./images/again.png" class="btn_again">
                </div>
                <div>
                    <img src="./images/bottom.png" class="line">
                </div>
            </div>

            <div class="swiper-slide swiper-no-swiping container" id="2">
                <img src="./images/fly.png" class="bg" style="width:100%; height:100%;">
                <div class="div_again">
                    <img src="./images/again.png" class="btn_again">
                </div>
                <div>
                    <img src="./images/bottom.png" class="line">
                </div>
            </div>

            <div class="swiper-slide swiper-no-swiping container" id="3">
                <img src="./images/talent.png" class="bg" style="width:100%; height:100%;">
                <div>
                    <img src="./images/receive.png" class="btn_receive">
                    <img src="./images/bottom.png" class="line">
                </div>
            </div>

            <div class="swiper-slide swiper-no-swiping container" id="4">
                <img src="./images/out-in.png" class="bg" style="width:100%; height:100%;">
                <div class="out_or_in">
                    <img src="./images/in.png" id="btn_in">
                    <img src="./images/out.png" id="btn_out">
                </div>
                <div class="out_person">
                    <img src="./images/kuang.png" class="choose">
                    <div class="out_pic_box">
                        <div class="out_pic"><img src="./images/1p.png" class="out_pics" index="西南分公司(含贵州、西藏分公司)"></div>
                        <div class="out_pic"><img src="./images/2p.png" class="out_pics" index="浙江分公司(含温州分公司)"></div>
                        <div class="out_pic">
                            <img src="./images/3p.png" class="out_pics" index="重庆分公司">
                            <img src="./images/4p.png" class="out_pics" index="天津分公司">
                        </div>
                        <div class="out_pic">
                            <img src="./images/5p.png" class="out_pics" index="上海分公司">
                            <img src="./images/6p.png" class="out_pics" index="湖北分公司">
                        </div>
                        <div class="out_pic">
                            <img src="./images/7p.png" class="out_pics" index="深圳分公司">
                            <img src="./images/8p.png" class="out_pics" index="山东分公司">
                        </div>
                        <div class="out_pic">
                            <img src="./images/9p.png" class="out_pics" index="大连分公司">
                            <img src="./images/10p.png" class="out_pics" index="内蒙古分公司">
                        </div>
                        <div class="out_pic"><img src="./images/11p.png" class="out_pics" index="澳门航空"></div>
                        <div class="out_pic"><img src="./images/12p.png" class="out_pics" index="商委所属的各营业部及航站"></div>
                    </div>
                </div>
            </div>


            <div class="swiper-slide swiper-no-swiping container" id="inputPage">
                <div class="div_input">
                    <img src="./images/input.png" class="btn_input">
                </div>
                <div class="div_input">
                    <form action="<%=basePath%>submit_detail.action?userNum=<%=userNum%>#inputPage" method="post" id="form">
                        <input type="hidden" name="formData.userNum" value="<%=userNum%>" />
                        <input type="text" id="phone" name="formData.phoneNum" class="input" placeholder="请输入11位中国移动手机号码 "></input>
                    </form>
                </div>
                <img src="./images/littleperson.png" style="width:100%; height:80%;">
                <div class="div_errorMsg">
                    <p class="errorMsg" id="errorMsg">${errorMsg}</p>
                </div>
                <div class="div_sure">
                    <img src="./images/sure.png" class="btn_sure" id="doSubmit">
                </div>
                <div>
                    <img src="./images/bottom.png" class="line">
                </div>
            </div>

            <div class="swiper-slide swiper-no-swiping container" id="inputPage2">
                <div style="position: relative;width: 100%;height: 20%;">
                    <form action="<%=basePath%>submit2_detail.action?userNum=<%=userNum%>#inputPage2" method="post" id="form2">
                        <div class="div_input1">
                            <img src="./images/input.png" class="btn_input1">
                        </div>
                        <div class="div_input1">
                            <input type="text" id="userName2" name="formData2.userName" class="input" placeholder="请输入您的姓名 " value="${formData2.userName }"></input>
                        </div>
                        <div class="div_input2">
                            <img src="./images/input.png" class="btn_input2">
                        </div>
                        <div class="div_input2">
                            <input type="hidden" name="formData2.userNum" value="<%=userNum%>" />
                            <input id="area" type="hidden" name="formData2.area" value="${formData2.area}" />
                            <input type="text" id="phone2" name="formData2.phoneNum" class="input" placeholder="请输入11位中国移动手机号码  " value="${formData2.phoneNum}"></input>
                        </div>
                    </form>
                </div>
                <div style="position: relative;width: 100%;height: 60%;">
                    <img src="./images/littleperson.png" style="width:100%;height:100%;">
                </div>
                <div class="div_errorMsg">
                    <p class="errorMsg" id="errorMsg2">${errorMsg2}</p>
                </div>
                <div class="div_sure">
                    <img src="./images/sure.png" class="btn_sure" id="doSubmit2">
                </div>
                <div>
                    <img src="./images/bottom.png" class="line">
                </div>
            </div>


        </div>

        <script>
            var answer = [];
            var index = '';
            $(".answer_item").click(function() {
                $(".answer_item").css('color', '#bf2b2b');
                $(this).css('color', 'black');
                index = $(this).attr("index");
            });
            var mySwiper = new Swiper('.swiper-container', {
                direction: 'vertical',
            })
            $('#begin').click(function() {
                mySwiper.slideNext();
            })
            $('.next').click(function() {
                if (index == '') {
                    showMsg("请选择一个答案", this);
                } else {
                    answer.push(index);
                    if (answer.length == 5) {
                        var num = correctQuesNum(answer);
                        if (num <= 2) {
                            mySwiper.slideTo(6, 100, false);
                        } else if (num == 3 || num == 4) {
                            mySwiper.slideTo(7, 100, false);
                        } else if (num == 5) {
                            mySwiper.slideTo(8, 0, false);
                        }
                    } else {
                        mySwiper.slideNext();
                        index = '';
                    }
                }
            })
            $('.btn_receive').click(function() {
                mySwiper.slideNext();
            })

            /******************by shen************ *******/
            $('#btn_in').click(function() {
                mySwiper.slideNext();
            })

            $('#btn_out').click(function() {
                $('.out_person').css('display', 'block');
            })

            $('.out_pics').click(function(event) {
                var $target = $(event.currentTarget);
                var $area = $("#area");
                var sub = $target.attr("index");
                $area.val(sub);
                mySwiper.slideTo(11, 100, false);
            })

            /* 
            1 西南分公司（贵州和西藏）
            2 浙江分公司（含温州分公司）
            3 重庆分公司
            4 天津分公司
            5 上海
            6 湖北
            7 深证
            8 山东
            9 大连
            10 内蒙古



             */
            /******************by end************ *******/

            /* $('.btn_sure').click(function () {
                mySwiper.slideNext();
            }) */
            $(".btn_again").click(function() {
                answer = [];
                index = '';
                mySwiper.slideTo(1, 0, false);
            })
            $("#doSubmit").click(function() {
                var phoneNum = $.trim($("#phone").val());
                if (new RegExp("^[1]\\d{10}$").test(phoneNum)) {
                    $("#form").submit();
                } else {
                    showErrorMsg("手机号码格式有误，请重新输入");
                }
            });
            $("#doSubmit2").click(function() {
                var phoneNum = $.trim($("#phone2").val());
                var name = $.trim($("#userName2").val());
                if (name === "") {
                    showErrorMsg2("姓名不能为空");
                    return;
                }
                if (!new RegExp("^[1]\\d{10}$").test(phoneNum)) {
                    showErrorMsg2("手机号码格式有误，请重新输入");
                    return;
                }
                $("#form2").submit();
            });

            function showMsg(msg, n) {
                if ($(n).parent('.center').siblings('.msg').length > 0) {
                    $(n).parent('.center').siblings('.msg').html("");
                    $(n).parent('.center').siblings('.msg').append(msg);
                }
            }

            function showErrorMsg(msg) {
                $("#errorMsg").html("");
                $("#errorMsg").append(msg);
            }

            function showErrorMsg2(msg) {
                $("#errorMsg2").html("");
                $("#errorMsg2").append(msg);
            }

            function correctQuesNum(arr) {
                var count = 0;
                if (arr[0] == '1-2') {
                    count = count + 1;
                }
                if (arr[1] == '2-1') {
                    count = count + 1;
                }
                if (arr[2] == '3-1') {
                    count = count + 1;
                }
                if (arr[3] == '4-2') {
                    count = count + 1;
                }
                if (arr[4] == '5-2') {
                    count = count + 1;
                }
                return count;
            };
        </script>
</body>

</html>